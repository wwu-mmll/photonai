
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.5">
    
    
      
        <title>Hyperpipe - </title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.15aa0b43.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.75751829.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#documentation-for-hyperpipe" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../../.." title="" class="md-header-nav__button md-logo" aria-label="">
      <div class="photon-logo">PHOTON<span class="ai">AI</span></div>
    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              Hyperpipe
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        Getting Started
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../architecture/" class="md-tabs__link md-tabs__link--active">
        API
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../features/performance_constraints/" class="md-tabs__link">
        Features
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../transformers.md" class="md-tabs__link">
        Algorithms
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../examples/no_outer_cv/" class="md-tabs__link">
        Examples
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="https://www.photon-ai.com" class="md-tabs__link">
        About
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="" class="md-nav__button md-logo" aria-label="">
      <div class="photon-logo">PHOTON<span class="ai">AI</span></div>
    </a>
    
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1" >
      
      <label class="md-nav__link" for="nav-1">
        Getting Started
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
        <label class="md-nav__title" for="nav-1">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Introduction
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/classification/" class="md-nav__link">
        Classification
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/regression/" class="md-nav__link">
        Regression
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/save_load/" class="md-nav__link">
        Saving and loading
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/registry/" class="md-nav__link">
        Registry
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/output/" class="md-nav__link">
        Output
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      


  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
      
      <label class="md-nav__link" for="nav-2">
        API
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="API" data-md-level="1">
        <label class="md-nav__title" for="nav-2">
          <span class="md-nav__icon md-icon"></span>
          API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1" type="checkbox" id="nav-2-1" checked>
      
      <label class="md-nav__link" for="nav-2-1">
        Base
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Base" data-md-level="2">
        <label class="md-nav__title" for="nav-2-1">
          <span class="md-nav__icon md-icon"></span>
          Base
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/" class="md-nav__link">
        Architecture
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../branch/" class="md-nav__link">
        Branch
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Hyperpipe
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Hyperpipe
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#photonai.base.hyperpipe.Hyperpipe" class="md-nav__link">
    photonai.base.hyperpipe.Hyperpipe
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#photonai.base.hyperpipe.Hyperpipe.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#photonai.base.hyperpipe.Hyperpipe.add" class="md-nav__link">
    add()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#photonai.base.hyperpipe.Hyperpipe.copy_me" class="md-nav__link">
    copy_me()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#photonai.base.hyperpipe.Hyperpipe.fit" class="md-nav__link">
    fit()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#photonai.base.hyperpipe.Hyperpipe.inverse_transform_pipeline" class="md-nav__link">
    inverse_transform_pipeline()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#photonai.base.hyperpipe.Hyperpipe.load_optimum_pipe" class="md-nav__link">
    load_optimum_pipe()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#photonai.base.hyperpipe.Hyperpipe.predict" class="md-nav__link">
    predict()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#photonai.base.hyperpipe.Hyperpipe.predict_proba" class="md-nav__link">
    predict_proba()
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../output_settings/" class="md-nav__link">
        OutputSettings
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../pipeline_element/" class="md-nav__link">
        PipelineElement
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../preprocessing/" class="md-nav__link">
        Preprocessing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../registry/" class="md-nav__link">
        Registry
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../stack/" class="md-nav__link">
        Stack
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../switch/" class="md-nav__link">
        Switch
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2" >
      
      <label class="md-nav__link" for="nav-2-2">
        Modelwrapper
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Modelwrapper" data-md-level="2">
        <label class="md-nav__title" for="nav-2-2">
          <span class="md-nav__icon md-icon"></span>
          Modelwrapper
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-2-1" type="checkbox" id="nav-2-2-1" >
      
      <label class="md-nav__link" for="nav-2-2-1">
        Feature Selection
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Feature Selection" data-md-level="3">
        <label class="md-nav__title" for="nav-2-2-1">
          <span class="md-nav__icon md-icon"></span>
          Feature Selection
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../modelwrapper/feature_selection/FClassifSelectPercentile/" class="md-nav__link">
        FClassifSelectPercentile
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../modelwrapper/feature_selection/FRegressionFilterPValue/" class="md-nav__link">
        FRegressionFilterPValue
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../modelwrapper/feature_selection/FRegressionSelectPercentile/" class="md-nav__link">
        FRegressionSelectPercentile
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../modelwrapper/feature_selection/LassoFeatureSelection/" class="md-nav__link">
        LassoFeatureSelection
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../modelwrapper/feature_selection/ModelSelector/" class="md-nav__link">
        ModelSelector
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3" >
      
      <label class="md-nav__link" for="nav-2-3">
        Optimization
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Optimization" data-md-level="2">
        <label class="md-nav__title" for="nav-2-3">
          <span class="md-nav__icon md-icon"></span>
          Optimization
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/grid_search/" class="md-nav__link">
        GridSearch
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/random_grid_search/" class="md-nav__link">
        RandomGridSearch
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/time_boxed_random_grid_search/" class="md-nav__link">
        TimeBoxedRandom_GS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/skopt/" class="md-nav__link">
        Scikit-Optimize
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/smac/" class="md-nav__link">
        SMAC
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/nevergrad/" class="md-nav__link">
        Nevergrad
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-3-7" type="checkbox" id="nav-2-3-7" >
      
      <label class="md-nav__link" for="nav-2-3-7">
        Hyperparameter
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Hyperparameter" data-md-level="3">
        <label class="md-nav__title" for="nav-2-3-7">
          <span class="md-nav__icon md-icon"></span>
          Hyperparameter
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/hyperparameter/boolean_switch/" class="md-nav__link">
        BooleanSwitch
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/hyperparameter/categorical/" class="md-nav__link">
        Categorical
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/hyperparameter/float_range/" class="md-nav__link">
        FloatRange
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../optimization/hyperparameter/integer_range/" class="md-nav__link">
        IntegerRange
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4" >
      
      <label class="md-nav__link" for="nav-2-4">
        Processing
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Processing" data-md-level="2">
        <label class="md-nav__title" for="nav-2-4">
          <span class="md-nav__icon md-icon"></span>
          Processing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../processing/results_handler/" class="md-nav__link">
        Results Handler
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      


  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" >
      
      <label class="md-nav__link" for="nav-3">
        Features
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Features" data-md-level="1">
        <label class="md-nav__title" for="nav-3">
          <span class="md-nav__icon md-icon"></span>
          Features
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../features/performance_constraints/" class="md-nav__link">
        Hyperparameter Optimization Shortcuts
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/imbalanced_data/" class="md-nav__link">
        Over- /Undersampling
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom_metrics.md" class="md-nav__link">
        Custom Metrics
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/subpipelines/" class="md-nav__link">
        Subpipelines
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../features/switch/" class="md-nav__link">
        Switch
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../features/stack/" class="md-nav__link">
        Stack
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../features/permutation_test/" class="md-nav__link">
        Permutation Test
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      


  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" >
      
      <label class="md-nav__link" for="nav-4">
        Algorithms
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Algorithms" data-md-level="1">
        <label class="md-nav__title" for="nav-4">
          <span class="md-nav__icon md-icon"></span>
          Algorithms
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../transformers.md" class="md-nav__link">
        Transformers
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../estimators.md" class="md-nav__link">
        Estimators
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      


  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" >
      
      <label class="md-nav__link" for="nav-5">
        Examples
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Examples" data-md-level="1">
        <label class="md-nav__title" for="nav-5">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/no_outer_cv/" class="md-nav__link">
        No Outer CV
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/group_driven_cv_split/" class="md-nav__link">
        Group driven CV split
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/feature_subset_pipelines/" class="md-nav__link">
        Feature Subset Pipelines
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/classifier_ensemble/" class="md-nav__link">
        Classifier Ensemble
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/confounder_removal/" class="md-nav__link">
        Confounder Removal
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/sample_pairing/" class="md-nav__link">
        Sample Pairing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/permutation_test/" class="md-nav__link">
        Permutation Test
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/subpipelines/" class="md-nav__link">
        Subpipelines
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/scikit_learn_mlp/" class="md-nav__link">
        Scikit-learn MLP
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/dnn_multiclass_prediction/" class="md-nav__link">
        DNN with multiclass prediction
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/custom_transformer/" class="md-nav__link">
        Custom Transformer
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/custom_estimator/" class="md-nav__link">
        Custom Estimator
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/imbalanced_data/" class="md-nav__link">
        Over- and Undersampling
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      


  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" >
      
      <label class="md-nav__link" for="nav-6">
        About
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="nav-6">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://www.photon-ai.com" class="md-nav__link">
        Website
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://arxiv.org/abs/2002.05426" class="md-nav__link">
        Preprint
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../contribution.md" class="md-nav__link">
        Contributions
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#photonai.base.hyperpipe.Hyperpipe" class="md-nav__link">
    photonai.base.hyperpipe.Hyperpipe
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#photonai.base.hyperpipe.Hyperpipe.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#photonai.base.hyperpipe.Hyperpipe.add" class="md-nav__link">
    add()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#photonai.base.hyperpipe.Hyperpipe.copy_me" class="md-nav__link">
    copy_me()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#photonai.base.hyperpipe.Hyperpipe.fit" class="md-nav__link">
    fit()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#photonai.base.hyperpipe.Hyperpipe.inverse_transform_pipeline" class="md-nav__link">
    inverse_transform_pipeline()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#photonai.base.hyperpipe.Hyperpipe.load_optimum_pipe" class="md-nav__link">
    load_optimum_pipe()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#photonai.base.hyperpipe.Hyperpipe.predict" class="md-nav__link">
    predict()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#photonai.base.hyperpipe.Hyperpipe.predict_proba" class="md-nav__link">
    predict_proba()
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="documentation-for-hyperpipe">Documentation for <code>Hyperpipe</code></h1>
<div class="doc doc-object doc-class">
<h2 class="hidden-toc" id="photonai.base.hyperpipe.Hyperpipe" style="visibility: hidden; position: absolute;">
        </h2>
<div class="doc doc-contents first">
<p>The PHOTONAI Hyperpipe class enables you to
create a custom pipeline. In addition it defines
the relevant analysisâ€™ parameters such as the
cross-validation scheme, the hyperparameter optimization
strategy, and the performance metrics of interest.</p>
<p>So called PHOTONAI PipelineElements can be added to
the Hyperpipe, each of them being a data-processing
method or a learning algorithm. By choosing and
combining data-processing methods and algorithms
and arranging them with the PHOTONAI classes, both
simple and complex pipeline architectures can be designed rapidly.</p>
<p>The PHOTONAI Hyperpipe automatizes the nested training,
test and hyperparameter optimization procedures.</p>
<p>The Hyperpipe monitors:</p>
<ul>
<li>the nested-cross-validated training
    and test procedure,</li>
<li>communicates with the hyperparameter optimization
    strategy,</li>
<li>streams information between the pipeline elements,</li>
<li>logs all results obtained and evaluates the performance.</li>
<li>guides the hyperparameter optimization process by
    a so-called best config metric which is used to select
    the best performing hyperparameter configuration.</li>
</ul>
<p><strong>Attributes:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>optimum_pipe</code></td>
<td><code>PhotonPipeline</code></td>
<td>
<p>An sklearn pipeline object that is fitted to the training data
according to the best hyperparameter configuration found.
Currently, we don't create an ensemble of all best hyperparameter
configs over all folds. We find the best config by comparing
the test error across outer folds. The hyperparameter config of the best
fold is used as the optimal model and is then trained on the complete set.</p>
</td>
</tr>
<tr>
<td><code>best_config</code></td>
<td><code>dict</code></td>
<td>
<p>Dictionary containing the hyperparameters of the
best configuration. Contains the parameters in the sklearn
interface of model_name__parameter_name: parameter value.</p>
</td>
</tr>
<tr>
<td><code>results</code></td>
<td><code>MDBHyperpipe</code></td>
<td>
<p>Object containing all information about the for the
performed hyperparameter search. Holds the training and test
metrics for all outer folds, inner folds
and configurations, as well as additional information.</p>
</td>
</tr>
<tr>
<td><code>elements</code></td>
<td><code>list</code></td>
<td>
<p>Contains `all PipelineElement or Hyperpipe
objects that are added to the pipeline.</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Examples:</strong></p>
<div class="highlight">
<pre><span></span><code><span class="kn">from</span> <span class="nn">photonai.base</span> <span class="kn">import</span> <span class="n">Hyperpipe</span><span class="p">,</span> <span class="n">PipelineElement</span>
<span class="kn">from</span> <span class="nn">photonai.optimization</span> <span class="kn">import</span> <span class="n">FloatRange</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">ShuffleSplit</span><span class="p">,</span> <span class="n">KFold</span>
<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_breast_cancer</span>

<span class="n">X</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">load_breast_cancer</span><span class="p">(</span><span class="n">return_X_y</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">hyperpipe</span> <span class="o">=</span> <span class="n">Hyperpipe</span><span class="p">(</span><span class="s1">'myPipe'</span><span class="p">,</span>
                      <span class="n">optimizer</span><span class="o">=</span><span class="s1">'timeboxed_random_grid_search'</span><span class="p">,</span>
                      <span class="n">optimizer_params</span><span class="o">=</span><span class="p">{</span><span class="s1">'limit_in_minutes'</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
                      <span class="n">outer_cv</span><span class="o">=</span><span class="n">ShuffleSplit</span><span class="p">(</span><span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">n_splits</span><span class="o">=</span><span class="mi">3</span><span class="p">),</span>
                      <span class="n">inner_cv</span><span class="o">=</span><span class="n">KFold</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
                      <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="s1">'accuracy'</span><span class="p">,</span> <span class="s1">'precision'</span><span class="p">,</span> <span class="s1">'recall'</span><span class="p">,</span> <span class="s2">"f1_score"</span><span class="p">],</span>
                      <span class="n">best_config_metric</span><span class="o">=</span><span class="s1">'accuracy'</span><span class="p">,</span>
                      <span class="n">eval_final_performance</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                      <span class="n">verbosity</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">hyperpipe</span> <span class="o">+=</span> <span class="n">PipelineElement</span><span class="p">(</span><span class="s2">"SVC"</span><span class="p">,</span> <span class="n">hyperparameters</span><span class="o">=</span><span class="p">{</span><span class="s2">"C"</span><span class="p">:</span> <span class="n">FloatRange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">)})</span>

<span class="n">hyperpipe</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</code></pre>
</div>
<div class="doc doc-children">
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="photonai.base.hyperpipe.Hyperpipe.__init__">

<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">inner_cv</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">outer_cv</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">optimizer</span><span class="o">=</span><span class="s1">'grid_search'</span><span class="p">,</span> <span class="n">optimizer_params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">metrics</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">best_config_metric</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">use_test_set</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">project_folder</span><span class="o">=</span><span class="s1">''</span><span class="p">,</span> <span class="n">calculate_metrics_per_fold</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">calculate_metrics_across_folds</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">random_seed</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">verbosity</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">learning_curves</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">learning_curves_cut</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">output_settings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">performance_constraints</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">permutation_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cache_folder</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nr_of_processes</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">allow_multidim_targets</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

      </h2>
<div class="doc doc-contents ">
<p>Initialize the object.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td><code>Optional[str]</code></td>
<td>
<p>Name of hyperpipe instance.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>inner_cv</code></td>
<td><code>Union[sklearn.model_selection._split.BaseCrossValidator, sklearn.model_selection._split.BaseShuffleSplit, sklearn.model_selection._split._RepeatedSplits]</code></td>
<td>
<p>Cross validation strategy to test hyperparameter configurations, generates the validation set.</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>outer_cv</code></td>
<td><code>Union[sklearn.model_selection._split.BaseCrossValidator, sklearn.model_selection._split.BaseShuffleSplit, sklearn.model_selection._split._RepeatedSplits]</code></td>
<td>
<p>Cross validation strategy to use for the hyperparameter search itself, generates the test set.</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>optimizer</code></td>
<td><code>str</code></td>
<td>
<p>Hyperparameter optimization algorithm.</p>
<ul>
<li>
<p>In case a string literal is given:</p>
<ul>
<li>"grid_search": optimizer that iteratively tests all possible hyperparameter combinations</li>
<li>"random_grid_search": a variation of the grid search optimization that randomly picks hyperparameter
    combinations from all possible hyperparameter combinations</li>
<li>"timeboxed_random_grid_search": randomly chooses hyperparameter combinations from the set of all
    possible hyperparameter combinations and tests until the given time limit is reached<ul>
<li><code>limit_in_minutes</code>: int</li>
</ul>
</li>
<li>"sk_opt": Scikit-Optimize based on theories of Baysian optimization.</li>
<li>"random_search": randomly chooses hyperparameter from grid-free domain.</li>
<li>"smac": SMAC based on theories of Baysian optimization.</li>
<li>"nevergrad": Nevergrad based on theories of evolutionary learning.</li>
</ul>
</li>
<li>
<p>In case an object is given:
    expects the object to have the following methods:</p>
<ul>
<li><code>next_config_generator</code>: returns a hyperparameter configuration in form of an dictionary containing
    key-&gt;value pairs in the sklearn parameter encoding <code>model_name__parameter_name: parameter_value</code></li>
<li><code>prepare</code>: takes a list of pipeline elements and their particular hyperparameters to test</li>
<li><code>evaluate_recent_performance</code>: gets a tested config and the respective performance in order to
    calculate a smart next configuration to process</li>
</ul>
</li>
</ul>
</td>
<td><code>'grid_search'</code></td>
</tr>
<tr>
<td><code>metrics</code></td>
<td><code>Optional[List[Union[Callable, keras.metrics.Metric, Type[keras.metrics.Metric], str]]]</code></td>
<td>
<p>Metrics that should be calculated for both training, validation and test set
Use the preimported metrics from sklearn and photonai, or register your own</p>
<ul>
<li>Metrics for <code>classification</code>:<ul>
<li><code>accuracy</code>: sklearn.metrics.accuracy_score</li>
<li><code>matthews_corrcoef</code>: sklearn.metrics.matthews_corrcoef</li>
<li><code>confusion_matrix</code>: sklearn.metrics.confusion_matrix,</li>
<li><code>f1_score</code>: sklearn.metrics.f1_score</li>
<li><code>hamming_loss</code>: sklearn.metrics.hamming_loss</li>
<li><code>log_loss</code>: sklearn.metrics.log_loss</li>
<li><code>precision</code>: sklearn.metrics.precision_score</li>
<li><code>recall</code>: sklearn.metrics.recall_score</li>
</ul>
</li>
<li>Metrics for <code>regression</code>:<ul>
<li><code>mean_squared_error</code>: sklearn.metrics.mean_squared_error</li>
<li><code>mean_absolute_error</code>: sklearn.metrics.mean_absolute_error</li>
<li><code>explained_variance</code>: sklearn.metrics.explained_variance_score</li>
<li><code>r2</code>: sklearn.metrics.r2_score</li>
</ul>
</li>
<li>Other metrics<ul>
<li><code>pearson_correlation</code>: photon_core.framework.Metrics.pearson_correlation</li>
<li><code>variance_explained</code>:  photon_core.framework.Metrics.variance_explained_score</li>
<li><code>categorical_accuracy</code>: photon_core.framework.Metrics.categorical_accuracy_score</li>
</ul>
</li>
</ul>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>best_config_metric</code></td>
<td><code>Union[Callable, keras.metrics.Metric, Type[keras.metrics.Metric], str]</code></td>
<td>
<p>The metric that should be maximized or minimized in order to choose the best hyperparameter configuration</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>use_test_set</code></td>
<td><code>bool</code></td>
<td>
<p>If the metrics should be calculated for the test set,
otherwise the test set is seperated but not used.</p>
</td>
<td><code>True</code></td>
</tr>
<tr>
<td><code>project_folder</code></td>
<td><code>str</code></td>
<td>
<p>The output folder in which all files generated by the
PHOTONAI project are saved to.</p>
</td>
<td><code>''</code></td>
</tr>
<tr>
<td><code>test_size</code></td>
<td><code>float</code></td>
<td>
<p>The amount of the data that should be left out if no outer_cv is given and
eval_final_perfomance is set to True.</p>
</td>
<td><code>0.2</code></td>
</tr>
<tr>
<td><code>calculate_metrics_per_fold</code></td>
<td><code>bool</code></td>
<td>
<p>If True, the metrics are calculated for each inner_fold.
If False, calculate_metrics_across_folds must be True.</p>
</td>
<td><code>True</code></td>
</tr>
<tr>
<td><code>calculate_metrics_across_folds</code></td>
<td><code>bool</code></td>
<td>
<p>If True, the metrics are calculated across all inner_fold.
If False, calculate_metrics_per_fold must be True.</p>
</td>
<td><code>False</code></td>
</tr>
<tr>
<td><code>random_seed</code></td>
<td><code>int</code></td>
<td>
<p>Random Seed.</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>verbosity</code></td>
<td><code>int</code></td>
<td>
<p>The level of verbosity, 0 is least talkative and
gives only warn and error, 1 gives adds info and 2 adds debug</p>
</td>
<td><code>0</code></td>
</tr>
<tr>
<td><code>learning_curves</code></td>
<td><code>bool</code></td>
<td>
<p>Enables larning curve procedure. Evaluate learning process over
different sizes of input. Depends on learning_curves_cut.</p>
</td>
<td><code>False</code></td>
</tr>
<tr>
<td><code>learning_curves_cut</code></td>
<td><code>FloatRange</code></td>
<td>
<p>The tested relativ cuts for data size.</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>performance_constraints</code></td>
<td><code>list</code></td>
<td>
<p>Objects that indicate whether a configuration should
be tested further. For example, the inner fold of a config
does not perform better than the dummy performance.</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>permutation_id</code></td>
<td><code>str</code></td>
<td>
<p>String identifier for permutation tests.</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>cache_folder</code></td>
<td><code>str</code></td>
<td>
<p>Folder path for multi-processing.</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>nr_of_processes</code></td>
<td><code>int</code></td>
<td>
<p>Determined the amount of simultaneous calculation of outer_folds.</p>
</td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>allow_multidim_targets</code></td>
<td><code>bool</code></td>
<td>
<p>Allows multidimensional targets.</p>
</td>
<td><code>False</code></td>
</tr>
</tbody>
</table>
<details class="quote">
          <summary>Source code in <code>photonai/base/hyperpipe.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
             <span class="n">inner_cv</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">BaseCrossValidator</span><span class="p">,</span> <span class="n">BaseShuffleSplit</span><span class="p">,</span> <span class="n">_RepeatedSplits</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">outer_cv</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">BaseCrossValidator</span><span class="p">,</span> <span class="n">BaseShuffleSplit</span><span class="p">,</span> <span class="n">_RepeatedSplits</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">optimizer</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">'grid_search'</span><span class="p">,</span>
             <span class="n">optimizer_params</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">metrics</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Scorer</span><span class="o">.</span><span class="n">Metric_Type</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">best_config_metric</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Scorer</span><span class="o">.</span><span class="n">Metric_Type</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">use_test_set</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
             <span class="n">test_size</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span>
             <span class="n">project_folder</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">''</span><span class="p">,</span>
             <span class="n">calculate_metrics_per_fold</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
             <span class="n">calculate_metrics_across_folds</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
             <span class="n">random_seed</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">verbosity</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
             <span class="n">learning_curves</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
             <span class="n">learning_curves_cut</span><span class="p">:</span> <span class="n">FloatRange</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">output_settings</span><span class="p">:</span> <span class="n">OutputSettings</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">performance_constraints</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">permutation_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">cache_folder</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">nr_of_processes</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
             <span class="n">allow_multidim_targets</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Initialize the object.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        name:</span>
<span class="sd">            Name of hyperpipe instance.</span>

<span class="sd">        inner_cv:</span>
<span class="sd">            Cross validation strategy to test hyperparameter configurations, generates the validation set.</span>

<span class="sd">        outer_cv:</span>
<span class="sd">            Cross validation strategy to use for the hyperparameter search itself, generates the test set.</span>

<span class="sd">        optimizer:</span>
<span class="sd">            Hyperparameter optimization algorithm.</span>

<span class="sd">            - In case a string literal is given:</span>
<span class="sd">                - "grid_search": optimizer that iteratively tests all possible hyperparameter combinations</span>
<span class="sd">                - "random_grid_search": a variation of the grid search optimization that randomly picks hyperparameter</span>
<span class="sd">                    combinations from all possible hyperparameter combinations</span>
<span class="sd">                - "timeboxed_random_grid_search": randomly chooses hyperparameter combinations from the set of all</span>
<span class="sd">                    possible hyperparameter combinations and tests until the given time limit is reached</span>
<span class="sd">                    - `limit_in_minutes`: int</span>
<span class="sd">                - "sk_opt": Scikit-Optimize based on theories of Baysian optimization.</span>
<span class="sd">                - "random_search": randomly chooses hyperparameter from grid-free domain.</span>
<span class="sd">                - "smac": SMAC based on theories of Baysian optimization.</span>
<span class="sd">                - "nevergrad": Nevergrad based on theories of evolutionary learning.</span>

<span class="sd">            - In case an object is given:</span>
<span class="sd">                expects the object to have the following methods:</span>
<span class="sd">                - `next_config_generator`: returns a hyperparameter configuration in form of an dictionary containing</span>
<span class="sd">                    key-&gt;value pairs in the sklearn parameter encoding `model_name__parameter_name: parameter_value`</span>
<span class="sd">                - `prepare`: takes a list of pipeline elements and their particular hyperparameters to test</span>
<span class="sd">                - `evaluate_recent_performance`: gets a tested config and the respective performance in order to</span>
<span class="sd">                    calculate a smart next configuration to process</span>

<span class="sd">        metrics:</span>
<span class="sd">            Metrics that should be calculated for both training, validation and test set</span>
<span class="sd">            Use the preimported metrics from sklearn and photonai, or register your own</span>

<span class="sd">            - Metrics for `classification`:</span>
<span class="sd">                - `accuracy`: sklearn.metrics.accuracy_score</span>
<span class="sd">                - `matthews_corrcoef`: sklearn.metrics.matthews_corrcoef</span>
<span class="sd">                - `confusion_matrix`: sklearn.metrics.confusion_matrix,</span>
<span class="sd">                - `f1_score`: sklearn.metrics.f1_score</span>
<span class="sd">                - `hamming_loss`: sklearn.metrics.hamming_loss</span>
<span class="sd">                - `log_loss`: sklearn.metrics.log_loss</span>
<span class="sd">                - `precision`: sklearn.metrics.precision_score</span>
<span class="sd">                - `recall`: sklearn.metrics.recall_score</span>
<span class="sd">            - Metrics for `regression`:</span>
<span class="sd">                - `mean_squared_error`: sklearn.metrics.mean_squared_error</span>
<span class="sd">                - `mean_absolute_error`: sklearn.metrics.mean_absolute_error</span>
<span class="sd">                - `explained_variance`: sklearn.metrics.explained_variance_score</span>
<span class="sd">                - `r2`: sklearn.metrics.r2_score</span>
<span class="sd">            - Other metrics</span>
<span class="sd">                - `pearson_correlation`: photon_core.framework.Metrics.pearson_correlation</span>
<span class="sd">                - `variance_explained`:  photon_core.framework.Metrics.variance_explained_score</span>
<span class="sd">                - `categorical_accuracy`: photon_core.framework.Metrics.categorical_accuracy_score</span>

<span class="sd">        best_config_metric:</span>
<span class="sd">            The metric that should be maximized or minimized in order to choose the best hyperparameter configuration</span>

<span class="sd">        use_test_set [bool, default=True]:</span>
<span class="sd">            If the metrics should be calculated for the test set,</span>
<span class="sd">            otherwise the test set is seperated but not used.</span>

<span class="sd">        project_folder:</span>
<span class="sd">            The output folder in which all files generated by the</span>
<span class="sd">            PHOTONAI project are saved to.</span>

<span class="sd">        test_size:</span>
<span class="sd">            The amount of the data that should be left out if no outer_cv is given and</span>
<span class="sd">            eval_final_perfomance is set to True.</span>

<span class="sd">        calculate_metrics_per_fold:</span>
<span class="sd">            If True, the metrics are calculated for each inner_fold.</span>
<span class="sd">            If False, calculate_metrics_across_folds must be True.</span>

<span class="sd">        calculate_metrics_across_folds:</span>
<span class="sd">            If True, the metrics are calculated across all inner_fold.</span>
<span class="sd">            If False, calculate_metrics_per_fold must be True.</span>

<span class="sd">        random_seed:</span>
<span class="sd">            Random Seed.</span>

<span class="sd">        verbosity:</span>
<span class="sd">            The level of verbosity, 0 is least talkative and</span>
<span class="sd">            gives only warn and error, 1 gives adds info and 2 adds debug</span>

<span class="sd">        learning_curves:</span>
<span class="sd">            Enables larning curve procedure. Evaluate learning process over</span>
<span class="sd">            different sizes of input. Depends on learning_curves_cut.</span>

<span class="sd">        learning_curves_cut:</span>
<span class="sd">            The tested relativ cuts for data size.</span>

<span class="sd">        performance_constraints:</span>
<span class="sd">            Objects that indicate whether a configuration should</span>
<span class="sd">            be tested further. For example, the inner fold of a config</span>
<span class="sd">            does not perform better than the dummy performance.</span>

<span class="sd">        permutation_id:</span>
<span class="sd">            String identifier for permutation tests.</span>

<span class="sd">        cache_folder:</span>
<span class="sd">            Folder path for multi-processing.</span>

<span class="sd">        nr_of_processes:</span>
<span class="sd">            Determined the amount of simultaneous calculation of outer_folds.</span>

<span class="sd">        allow_multidim_targets:</span>
<span class="sd">            Allows multidimensional targets.</span>

<span class="sd">    """</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">'\W+'</span><span class="p">,</span> <span class="s1">''</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

    <span class="c1"># ====================== Cross Validation ===========================</span>
    <span class="c1"># check if both calculate_metrics_per_folds and calculate_metrics_across_folds is False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">calculate_metrics_across_folds</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">calculate_metrics_per_fold</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">"Apparently, you've set calculate_metrics_across_folds=False and "</span>
                                  <span class="s2">"calculate_metrics_per_fold=False. In this case PHOTONAI does not calculate "</span>
                                  <span class="s2">"any metrics which doesn't make any sense. Set at least one to True."</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">inner_cv</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">"PHOTONAI requires an inner_cv split. Please enable inner cross-validation. As exmaple: Hyperpipe(..."</span> \
              <span class="s2">" inner_cv = KFold(n_splits = 3), ...). Ensure you import the cross_validation object first."</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="c1"># use default cut 'FloatRange(0, 1, 'range', 0.2)' if learning_curves = True but learning_curves_cut is None</span>
    <span class="k">if</span> <span class="n">learning_curves</span> <span class="ow">and</span> <span class="n">learning_curves_cut</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">learning_curves_cut</span> <span class="o">=</span> <span class="n">FloatRange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'range'</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span>
    <span class="k">elif</span> <span class="ow">not</span> <span class="n">learning_curves</span> <span class="ow">and</span> <span class="n">learning_curves_cut</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">learning_curves_cut</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">cross_validation</span> <span class="o">=</span> <span class="n">Hyperpipe</span><span class="o">.</span><span class="n">CrossValidation</span><span class="p">(</span><span class="n">inner_cv</span><span class="o">=</span><span class="n">inner_cv</span><span class="p">,</span>
                                                      <span class="n">outer_cv</span><span class="o">=</span><span class="n">outer_cv</span><span class="p">,</span>
                                                      <span class="n">use_test_set</span><span class="o">=</span><span class="n">use_test_set</span><span class="p">,</span>
                                                      <span class="n">test_size</span><span class="o">=</span><span class="n">test_size</span><span class="p">,</span>
                                                      <span class="n">calculate_metrics_per_fold</span><span class="o">=</span><span class="n">calculate_metrics_per_fold</span><span class="p">,</span>
                                                      <span class="n">calculate_metrics_across_folds</span><span class="o">=</span><span class="n">calculate_metrics_across_folds</span><span class="p">,</span>
                                                      <span class="n">learning_curves</span><span class="o">=</span><span class="n">learning_curves</span><span class="p">,</span>
                                                      <span class="n">learning_curves_cut</span><span class="o">=</span><span class="n">learning_curves_cut</span><span class="p">)</span>

    <span class="c1"># ====================== Data ===========================</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">Hyperpipe</span><span class="o">.</span><span class="n">Data</span><span class="p">()</span>

    <span class="c1"># ====================== Output Folder and Log File Management ===========================</span>
    <span class="k">if</span> <span class="n">output_settings</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_settings</span> <span class="o">=</span> <span class="n">output_settings</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_settings</span> <span class="o">=</span> <span class="n">OutputSettings</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">project_folder</span> <span class="o">==</span> <span class="s1">''</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">project_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">project_folder</span> <span class="o">=</span> <span class="n">project_folder</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">output_settings</span><span class="o">.</span><span class="n">set_project_folder</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">project_folder</span><span class="p">)</span>

    <span class="c1"># update output options to add pipe name and timestamp to results folder</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_verbosity</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">verbosity</span> <span class="o">=</span> <span class="n">verbosity</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">output_settings</span><span class="o">.</span><span class="n">set_log_file</span><span class="p">()</span>

    <span class="c1"># ====================== Result Logging ===========================</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">results_handler</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">results</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">best_config</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># ====================== Pipeline ===========================</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">elements</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_pipe</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">optimum_pipe</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">preprocessing</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># ====================== Performance Optimization ===========================</span>
    <span class="k">if</span> <span class="n">optimizer_params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">optimizer_params</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">optimization</span> <span class="o">=</span> <span class="n">Optimization</span><span class="p">(</span><span class="n">metrics</span><span class="o">=</span><span class="n">metrics</span><span class="p">,</span>
                                     <span class="n">best_config_metric</span><span class="o">=</span><span class="n">best_config_metric</span><span class="p">,</span>
                                     <span class="n">optimizer_input</span><span class="o">=</span><span class="n">optimizer</span><span class="p">,</span>
                                     <span class="n">optimizer_params</span><span class="o">=</span><span class="n">optimizer_params</span><span class="p">,</span>
                                     <span class="n">performance_constraints</span><span class="o">=</span><span class="n">performance_constraints</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">optimization</span><span class="o">.</span><span class="n">sanity_check_metrics</span><span class="p">()</span>

    <span class="c1"># ====================== Caching and Parallelization ===========================</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">nr_of_processes</span> <span class="o">=</span> <span class="n">nr_of_processes</span>
    <span class="k">if</span> <span class="n">cache_folder</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cache_folder</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache_folder</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># ====================== Internals ===========================</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">permutation_id</span> <span class="o">=</span> <span class="n">permutation_id</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">allow_multidim_targets</span> <span class="o">=</span> <span class="n">allow_multidim_targets</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">is_final_fit</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># ====================== Random Seed ===========================</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">random_state</span> <span class="o">=</span> <span class="n">random_seed</span>
    <span class="k">if</span> <span class="n">random_seed</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">random</span>
        <span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">random_seed</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="photonai.base.hyperpipe.Hyperpipe.add">

<code class="highlight language-python"><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipe_element</span><span class="p">)</span></code>


      </h2>
<div class="doc doc-contents ">
<p>Add an element to the machine learning pipeline
Returns self</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pipe_element</code></td>
<td><code>PipelineElement</code></td>
<td>
<p>The object to add to the machine learning pipeline,
being either a transformer or an estimator.</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<details class="quote">
          <summary>Source code in <code>photonai/base/hyperpipe.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pipe_element</span><span class="p">:</span> <span class="n">PipelineElement</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Add an element to the machine learning pipeline</span>
<span class="sd">    Returns self</span>

<span class="sd">    Parameters:</span>
<span class="sd">        pipe_element:</span>
<span class="sd">            The object to add to the machine learning pipeline,</span>
<span class="sd">            being either a transformer or an estimator.</span>

<span class="sd">    """</span>
    <span class="bp">self</span><span class="o">.</span><span class="fm">__iadd__</span><span class="p">(</span><span class="n">pipe_element</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="photonai.base.hyperpipe.Hyperpipe.copy_me">

<code class="highlight language-python"><span class="n">copy_me</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


      </h2>
<div class="doc doc-contents ">
<p>Helper function to copy an entire Hyperpipe</p>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code></code></td>
<td>
<p>Hyperpipe</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
          <summary>Source code in <code>photonai/base/hyperpipe.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">copy_me</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Helper function to copy an entire Hyperpipe</span>

<span class="sd">    Returns:</span>
<span class="sd">        Hyperpipe</span>

<span class="sd">    """</span>
    <span class="n">signature</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getfullargspec</span><span class="p">(</span><span class="n">OutputSettings</span><span class="o">.</span><span class="fm">__init__</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="n">OutputSettings</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">signature</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_settings</span><span class="p">,</span> <span class="n">attr</span><span class="p">):</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="n">settings</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_settings</span><span class="p">,</span> <span class="n">attr</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">output_settings</span><span class="o">.</span><span class="n">initialize_log_file</span><span class="p">()</span>

    <span class="c1"># create new Hyperpipe instance</span>
    <span class="n">pipe_copy</span> <span class="o">=</span> <span class="n">Hyperpipe</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                          <span class="n">inner_cv</span><span class="o">=</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cross_validation</span><span class="o">.</span><span class="n">inner_cv</span><span class="p">),</span>
                          <span class="n">outer_cv</span><span class="o">=</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cross_validation</span><span class="o">.</span><span class="n">outer_cv</span><span class="p">),</span>
                          <span class="n">best_config_metric</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">optimization</span><span class="o">.</span><span class="n">best_config_metric</span><span class="p">,</span>
                          <span class="n">metrics</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">optimization</span><span class="o">.</span><span class="n">metrics</span><span class="p">,</span>
                          <span class="n">optimizer</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">optimization</span><span class="o">.</span><span class="n">optimizer_input_str</span><span class="p">,</span>
                          <span class="n">optimizer_params</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">optimization</span><span class="o">.</span><span class="n">optimizer_params</span><span class="p">,</span>
                          <span class="n">project_folder</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">project_folder</span><span class="p">,</span>
                          <span class="n">output_settings</span><span class="o">=</span><span class="n">settings</span><span class="p">)</span>

    <span class="n">signature</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getfullargspec</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="fm">__init__</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">signature</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">)</span> <span class="ow">and</span> <span class="n">attr</span> <span class="o">!=</span> <span class="s1">'output_settings'</span><span class="p">:</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="n">pipe_copy</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">))</span>

    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">'preprocessing'</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">preprocessing</span><span class="p">:</span>
        <span class="n">preprocessing</span> <span class="o">=</span> <span class="n">Preprocessing</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">preprocessing</span><span class="o">.</span><span class="n">elements</span><span class="p">:</span>
            <span class="n">preprocessing</span> <span class="o">+=</span> <span class="n">element</span><span class="o">.</span><span class="n">copy_me</span><span class="p">()</span>
        <span class="n">pipe_copy</span> <span class="o">+=</span> <span class="n">preprocessing</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">'elements'</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">elements</span><span class="p">:</span>
            <span class="n">pipe_copy</span> <span class="o">+=</span> <span class="n">element</span><span class="o">.</span><span class="n">copy_me</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">pipe_copy</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="photonai.base.hyperpipe.Hyperpipe.fit">

<code class="highlight language-python"><span class="n">fit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">targets</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


      </h2>
<div class="doc doc-contents ">
<p>Starts the hyperparameter search and/or fits the pipeline to the data and targets.</p>
<p>Manages the nested cross validated hyperparameter search:</p>
<ol>
<li>Filters the data according to filter strategy (1) and according to the imbalanced_data_strategy (2)</li>
<li>requests new configurations from the hyperparameter search strategy, the optimizer,</li>
<li>initializes the testing of a specific configuration,</li>
<li>communicates the result to the optimizer,</li>
<li>repeats 2-4 until optimizer delivers no more configurations to test</li>
<li>finally searches for the best config in all tested configs,</li>
<li>trains the pipeline with the best config and evaluates the performance on the test set</li>
</ol>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>ndarray</code></td>
<td>
<p>The array-like training and test data with shape=[N, D],
where N is the number of samples and D is the number of features.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>targets</code></td>
<td><code>ndarray</code></td>
<td>
<p>The truth array-like values with shape=[N],
where N is the number of samples.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>kwargs</code></td>
<td><code></code></td>
<td>
<p>Keyword arguments, passed to Outer_Fold_Manager.fit.</p>
</td>
<td><code>{}</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code></code></td>
<td>
<p>Fitted Hyperpipe.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
          <summary>Source code in <code>photonai/base/hyperpipe.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">fit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">targets</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Starts the hyperparameter search and/or fits the pipeline to the data and targets.</span>

<span class="sd">    Manages the nested cross validated hyperparameter search:</span>

<span class="sd">    1. Filters the data according to filter strategy (1) and according to the imbalanced_data_strategy (2)</span>
<span class="sd">    2. requests new configurations from the hyperparameter search strategy, the optimizer,</span>
<span class="sd">    3. initializes the testing of a specific configuration,</span>
<span class="sd">    4. communicates the result to the optimizer,</span>
<span class="sd">    5. repeats 2-4 until optimizer delivers no more configurations to test</span>
<span class="sd">    6. finally searches for the best config in all tested configs,</span>
<span class="sd">    7. trains the pipeline with the best config and evaluates the performance on the test set</span>

<span class="sd">    Parameters:</span>
<span class="sd">        data:</span>
<span class="sd">            The array-like training and test data with shape=[N, D],</span>
<span class="sd">            where N is the number of samples and D is the number of features.</span>

<span class="sd">        targets:</span>
<span class="sd">            The truth array-like values with shape=[N],</span>
<span class="sd">            where N is the number of samples.</span>

<span class="sd">        kwargs:</span>
<span class="sd">            Keyword arguments, passed to Outer_Fold_Manager.fit.</span>


<span class="sd">    Returns:</span>
<span class="sd">        Fitted Hyperpipe.</span>

<span class="sd">    """</span>
    <span class="c1"># switch to result output folder</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">output_settings</span><span class="o">.</span><span class="n">update_settings</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">start</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">"%Y-%m-</span><span class="si">%d</span><span class="s2">_%H-%M-%S"</span><span class="p">))</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">photon_system_log</span><span class="p">(</span><span class="s1">'='</span> <span class="o">*</span> <span class="mi">101</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">photon_system_log</span><span class="p">(</span><span class="s1">'PHOTONAI ANALYSIS: '</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">photon_system_log</span><span class="p">(</span><span class="s1">'='</span> <span class="o">*</span> <span class="mi">101</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">"Preparing data and PHOTONAI objects for analysis..."</span><span class="p">)</span>

    <span class="c1"># loop over outer cross validation</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nr_of_processes</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">hyperpipe_client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">threads_per_worker</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_workers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nr_of_processes</span><span class="p">,</span> <span class="n">processes</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># check data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">input_data_sanity_checks</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">targets</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="c1"># create photon pipeline</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_prepare_pipeline</span><span class="p">()</span>
        <span class="c1"># initialize the progress monitors</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_prepare_result_logging</span><span class="p">(</span><span class="n">start</span><span class="p">)</span>
        <span class="c1"># apply preprocessing</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preprocess_data</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_final_fit</span><span class="p">:</span>

            <span class="c1"># Outer Folds</span>
            <span class="n">outer_folds</span> <span class="o">=</span> <span class="n">FoldInfo</span><span class="o">.</span><span class="n">generate_folds</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cross_validation</span><span class="o">.</span><span class="n">outer_cv</span><span class="p">,</span>
                                                  <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">X</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">kwargs</span><span class="p">,</span>
                                                  <span class="bp">self</span><span class="o">.</span><span class="n">cross_validation</span><span class="o">.</span><span class="n">use_test_set</span><span class="p">,</span>
                                                  <span class="bp">self</span><span class="o">.</span><span class="n">cross_validation</span><span class="o">.</span><span class="n">test_size</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">cross_validation</span><span class="o">.</span><span class="n">outer_folds</span> <span class="o">=</span> <span class="p">{</span><span class="n">f</span><span class="o">.</span><span class="n">fold_id</span><span class="p">:</span> <span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">outer_folds</span><span class="p">}</span>
            <span class="n">delayed_jobs</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="c1"># Run Dummy Estimator</span>
            <span class="n">dummy_estimator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prepare_dummy_estimator</span><span class="p">()</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_folder</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">"Removing cache files..."</span><span class="p">)</span>
                <span class="n">CacheManager</span><span class="o">.</span><span class="n">clear_cache_files</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_folder</span><span class="p">,</span> <span class="n">force_all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

            <span class="c1"># loop over outer cross validation</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">outer_f</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">outer_folds</span><span class="p">):</span>

                <span class="c1"># 1. generate OuterFolds Object</span>
                <span class="n">outer_fold</span> <span class="o">=</span> <span class="n">MDBOuterFold</span><span class="p">(</span><span class="n">fold_nr</span><span class="o">=</span><span class="n">outer_f</span><span class="o">.</span><span class="n">fold_nr</span><span class="p">)</span>
                <span class="n">outer_fold_computer</span> <span class="o">=</span> <span class="n">OuterFoldManager</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pipe</span><span class="p">,</span>
                                                       <span class="bp">self</span><span class="o">.</span><span class="n">optimization</span><span class="p">,</span>
                                                       <span class="n">outer_f</span><span class="o">.</span><span class="n">fold_id</span><span class="p">,</span>
                                                       <span class="bp">self</span><span class="o">.</span><span class="n">cross_validation</span><span class="p">,</span>
                                                       <span class="n">cache_folder</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_folder</span><span class="p">,</span>
                                                       <span class="n">cache_updater</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">recursive_cache_folder_propagation</span><span class="p">,</span>
                                                       <span class="n">dummy_estimator</span><span class="o">=</span><span class="n">dummy_estimator</span><span class="p">,</span>
                                                       <span class="n">result_obj</span><span class="o">=</span><span class="n">outer_fold</span><span class="p">)</span>
                <span class="c1"># 2. monitor outputs</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">outer_folds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">outer_fold</span><span class="p">)</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nr_of_processes</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">result</span> <span class="o">=</span> <span class="n">dask</span><span class="o">.</span><span class="n">delayed</span><span class="p">(</span><span class="n">Hyperpipe</span><span class="o">.</span><span class="n">fit_outer_folds</span><span class="p">)(</span><span class="n">outer_fold_computer</span><span class="p">,</span>
                                                                     <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">X</span><span class="p">,</span>
                                                                     <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">y</span><span class="p">,</span>
                                                                     <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">kwargs</span><span class="p">,</span>
                                                                     <span class="bp">self</span><span class="o">.</span><span class="n">cache_folder</span><span class="p">)</span>
                    <span class="n">delayed_jobs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="c1"># 3. fit</span>
                        <span class="n">outer_fold_computer</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">X</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span>
                        <span class="c1"># 4. save outer fold results</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">results_handler</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
                    <span class="k">finally</span><span class="p">:</span>
                        <span class="c1"># 5. clear cache</span>
                        <span class="n">CacheManager</span><span class="o">.</span><span class="n">clear_cache_files</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_folder</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nr_of_processes</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">dask</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="o">*</span><span class="n">delayed_jobs</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">results_handler</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

            <span class="c1"># evaluate hyperparameter optimization results for best config</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_finalize_optimization</span><span class="p">()</span>

            <span class="c1"># clear complete cache ?</span>
            <span class="n">CacheManager</span><span class="o">.</span><span class="n">clear_cache_files</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_folder</span><span class="p">,</span> <span class="n">force_all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="c1">###############################################################################################</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">preprocess_data</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_pipe</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">X</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">())</span>
        <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">e</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nr_of_processes</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">hyperpipe_client</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="photonai.base.hyperpipe.Hyperpipe.inverse_transform_pipeline">

<code class="highlight language-python"><span class="n">inverse_transform_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hyperparameters</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">targets</span><span class="p">,</span> <span class="n">data_to_inverse</span><span class="p">)</span></code>


      </h2>
<div class="doc doc-contents ">
<p>Inverse transform data for a pipeline with specific hyperparameter configuration.</p>
<ol>
<li>Copy Sklearn Pipeline,</li>
<li>Set Parameters</li>
<li>Fit Pipeline to data and targets</li>
<li>Inverse transform data with that pipeline</li>
</ol>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>hyperparameters</code></td>
<td><code>dict</code></td>
<td>
<p>The concrete configuration settings for the pipeline elements.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>data</code></td>
<td><code>ndarray</code></td>
<td>
<p>The training data to which the pipeline is fitted.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>targets</code></td>
<td><code>ndarray</code></td>
<td>
<p>The truth values for training.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>data_to_inverse</code></td>
<td><code>ndarray</code></td>
<td>
<p>The data that should be inversed after training.</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ndarray</code></td>
<td>
<p>Inversed data as array.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
          <summary>Source code in <code>photonai/base/hyperpipe.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">inverse_transform_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hyperparameters</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
                               <span class="n">data</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
                               <span class="n">targets</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
                               <span class="n">data_to_inverse</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Inverse transform data for a pipeline with specific hyperparameter configuration.</span>

<span class="sd">    1. Copy Sklearn Pipeline,</span>
<span class="sd">    2. Set Parameters</span>
<span class="sd">    3. Fit Pipeline to data and targets</span>
<span class="sd">    4. Inverse transform data with that pipeline</span>

<span class="sd">    Parameters:</span>
<span class="sd">        hyperparameters:</span>
<span class="sd">            The concrete configuration settings for the pipeline elements.</span>

<span class="sd">        data:</span>
<span class="sd">            The training data to which the pipeline is fitted.</span>

<span class="sd">        targets:</span>
<span class="sd">            The truth values for training.</span>

<span class="sd">        data_to_inverse:</span>
<span class="sd">            The data that should be inversed after training.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Inversed data as array.</span>

<span class="sd">    """</span>
    <span class="n">copied_pipe</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipe</span><span class="o">.</span><span class="n">copy_me</span><span class="p">()</span>
    <span class="n">copied_pipe</span><span class="o">.</span><span class="n">set_params</span><span class="p">(</span><span class="o">**</span><span class="n">hyperparameters</span><span class="p">)</span>
    <span class="n">copied_pipe</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">targets</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">copied_pipe</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">data_to_inverse</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="photonai.base.hyperpipe.Hyperpipe.load_optimum_pipe">

<code class="highlight language-python"><span class="n">load_optimum_pipe</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

      </h2>
<div class="doc doc-contents ">
<p>Load optimum pipe from file.
As staticmethod, instantiation is thus not required.
Called backend: PhotonModelPersistor.load_optimum_pipe.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>file</code></td>
<td><code>str</code></td>
<td>
<p>File path specifying .photon file to load
trained pipeline from zipped file.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>password</code></td>
<td><code>str</code></td>
<td>
<p>Passcode for read file.</p>
</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PhotonPipeline</code></td>
<td>
<p>Returns pipeline with all trained PipelineElements.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
          <summary>Source code in <code>photonai/base/hyperpipe.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">load_optimum_pipe</span><span class="p">(</span><span class="n">file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">password</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PhotonPipeline</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Load optimum pipe from file.</span>
<span class="sd">    As staticmethod, instantiation is thus not required.</span>
<span class="sd">    Called backend: PhotonModelPersistor.load_optimum_pipe.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        file:</span>
<span class="sd">            File path specifying .photon file to load</span>
<span class="sd">            trained pipeline from zipped file.</span>

<span class="sd">        password:</span>
<span class="sd">            Passcode for read file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Returns pipeline with all trained PipelineElements.</span>

<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">PhotonModelPersistor</span><span class="o">.</span><span class="n">load_optimum_pipe</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="photonai.base.hyperpipe.Hyperpipe.predict">

<code class="highlight language-python"><span class="n">predict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


      </h2>
<div class="doc doc-contents ">
<p>Use the optimum pipe to predict the input data.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>ndarray</code></td>
<td>
<p>The array-like prediction data with shape=[M, D],
where M is the number of samples and D is the number
of features. D must correspond to the number
of trained dimensions of the fit method.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>kwargs</code></td>
<td><code></code></td>
<td>
<p>Keyword arguments, passed to optimum_pipe.predict.</p>
</td>
<td><code>{}</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ndarray</code></td>
<td>
<p>Predicted targets calculated on input data with trained model.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
          <summary>Source code in <code>photonai/base/hyperpipe.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Use the optimum pipe to predict the input data.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        data:</span>
<span class="sd">            The array-like prediction data with shape=[M, D],</span>
<span class="sd">            where M is the number of samples and D is the number</span>
<span class="sd">            of features. D must correspond to the number</span>
<span class="sd">            of trained dimensions of the fit method.</span>

<span class="sd">        kwargs:</span>
<span class="sd">            Keyword arguments, passed to optimum_pipe.predict.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Predicted targets calculated on input data with trained model.</span>

<span class="sd">    """</span>
    <span class="c1"># Todo: if local_search = true then use optimized pipe here?</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pipe</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">optimum_pipe</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h2 class="doc doc-heading" id="photonai.base.hyperpipe.Hyperpipe.predict_proba">

<code class="highlight language-python"><span class="n">predict_proba</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


      </h2>
<div class="doc doc-contents ">
<p>Use the optimum pipe to predict the probabilities from the input data.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td><code>ndarray</code></td>
<td>
<p>The array-like prediction data with shape=[M, D],
where M is the number of samples and D is the number
of features. D must correspond to the number
of trained dimensions of the fit method.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>kwargs</code></td>
<td><code></code></td>
<td>
<p>Keyword arguments, passed to optimum_pipe.predict_proba.</p>
</td>
<td><code>{}</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ndarray</code></td>
<td>
<p>Probabilities calculated from input data on fitted model.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
          <summary>Source code in <code>photonai/base/hyperpipe.py</code></summary>
          <div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">predict_proba</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Use the optimum pipe to predict the probabilities from the input data.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        data:</span>
<span class="sd">            The array-like prediction data with shape=[M, D],</span>
<span class="sd">            where M is the number of samples and D is the number</span>
<span class="sd">            of features. D must correspond to the number</span>
<span class="sd">            of trained dimensions of the fit method.</span>

<span class="sd">        kwargs:</span>
<span class="sd">            Keyword arguments, passed to optimum_pipe.predict_proba.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Probabilities calculated from input data on fitted model.</span>


<span class="sd">    """</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pipe</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">optimum_pipe</span><span class="o">.</span><span class="n">predict_proba</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
</div>
</div>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../branch/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Branch
              </div>
            </div>
          </a>
        
        
          <a href="../output_settings/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                OutputSettings
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/vendor.93c04032.min.js"></script>
      <script src="../../../assets/javascripts/bundle.83e5331e.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../../..",
          features: ['navigation.tabs'],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>